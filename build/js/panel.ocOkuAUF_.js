(()=>{"use strict";const t="calculateIncomes",e="submitWithdraw",a="fetchWithdraw",s="fetchWithdrawFields",n="setWithdrawFields",r="/pmpr/v1/salary/withdraw",l={[n](t,e){t.fields=e}},i={state:{fields:null},actions:{[e](t,e){return this._vm.$helper.$apiRequest(`${r}/submit`,e)},[t](t,e){return this._vm.$helper.$apiRequest(`${r}/calculate`,e)},[a](t,e){return this._vm.$helper.$apiRequest(`${r}/get-withdraw`,e,"$get")},[s]({commit:t,state:e}){return new Promise(((e,a)=>{this._vm.$api.$get(`${r}/get-fields`).then((a=>{t(n,a.data),e(a.data)})).catch((({response:t})=>{a(t)}))}))}},mutations:l,getters:{}},o="fetchAgreement",c="submitApplyRequest",u="fetchVerificationNeedUserFields",d="setAgreement",m="setUserVerification",p="/pmpr/v1/salary/agreement",h={[d](t,e){t.agreement=e},[m](t,e){t.appliable=e.appliable,t.user_verification=e.fields}},y={state:{agreement:null,appliable:!1,user_verification:null},actions:{[u]({commit:t}){return new Promise(((e,a)=>{this._vm.$api.$get(`${p}/get-apply-requires`).then((a=>{t(m,a.data),e(a.data)})).catch((({response:t})=>{a(t)}))}))},[c]({commit:t,state:e},a){return new Promise(((t,e)=>{this._vm.$api.$post(`${p}/submit-apply`,a).then((e=>{t(e.data)})).catch((({response:t})=>{e(t)}))}))},[o]({commit:t,state:e},a){return new Promise(((e,s)=>{this._vm.$api.$get(`${p}/get-agreement`,{params:a}).then((a=>{t(d,a.data),e(a.data)})).catch((({response:t})=>{s(t)}))}))}},mutations:h,getters:{getAgreement:t=>t.agreement,getUserVerification:t=>t.user_verification}},_="fetchBankAccountFields",w="deleteBankAccount",f="saveBankAccount",g="setBankAccountFields",v="/pmpr/v1/salary/bank-account",b={[g](t,e){t.fields=e}},P={state:{fields:null},actions:{[f](t,e){return this._vm.$helper.$apiRequest(`${v}/save`,e)},[w](t,e){return this._vm.$helper.$apiRequest(`${v}/delete`,e,"$delete")},[_]({commit:t,state:e}){return new Promise(((e,a)=>{this._vm.$api.$get(`${v}/get-fields`).then((a=>{t(g,a.data),e(a.data)})).catch((({response:t})=>{a(t)}))}))}},mutations:b,getters:{}};PMPRTrigger.addFilter("panel_store_modules",(t=>(t["salary-back-account"]=P,t["salary-agreement"]=y,t["salary-withdraw"]=i,t)),500);var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._b({},"div",t.container,!1),[a("img",{staticClass:"img-fluid",attrs:{src:t.getIcon(t.account.icon),alt:"Bank Icon",width:"42"}}),t._v(" "),a("div",{staticClass:"d-flex justify-content-between flex-column ml-3"},[a("strong",{staticClass:"mb-1"},[t._v(t._s(t.account.bank))]),t._v(" "),a("span",{staticClass:"text-dark-50"},[t._v(t._s(t.account[t.subtext_key]))])])])};S._withStripped=!0;function k(t,e,a,s,n,r,l,i){var o,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),l?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},c._ssrRegister=o):n&&(o=i?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),o)if(c.functional){c._injectStyles=o;var u=c.render;c.render=function(t,e){return o.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,o):[o]}return{exports:t,options:c}}const $=k({name:"PanelSalaryBankAccount",props:{account:{type:Object,default:function(){return{}}},subtext_key:{type:String,default:"owner"},container:{type:Object,default:function(){return{class:"d-flex"}}}}},S,[],!1,null,null,null).exports;PMPRTrigger.addAction("panel_component_initialized",(t=>{t.component("PanelSalaryBankAccount",$)}));var x=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};x._withStripped=!0;const C=k({name:"PanelSalary"},x,[],!1,null,null,null).exports;var A=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};A._withStripped=!0;const T=k({name:"PanelSalaryWithdraw"},A,[],!1,null,null,null).exports;var B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PanelNotice",{attrs:{content:t.translate("salary.withdraw.modal.info"),classes:"mb-5",type:"info"}}),t._v(" "),a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("PanelModal",{attrs:{modal:t.modalProps,button:t.buttonProps,id:"withdraw_modal",title:t.translate("salary.withdraw.modal.title"),loading:t.loading},on:{"modal-show":function(e){return t.onModalShow(e)}},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.close;return[t.error?a("PanelNotice",{attrs:{type:"warning",content:t.error}}):t.fields?[a("PanelNotice",{attrs:{content:t.translate("salary.withdraw.modal.notice"),classes:"mb-10",type:"warning"}}),t._v(" "),a("PanelForm",{attrs:{fields:t.fields,data:t.withdraw,"label-align":!1,id:"add_update_withdraw",tag:"form",offset:"0"},on:{rendered:t.afterRender,changed:t.onModalFormChange},scopedSlots:t._u([{key:"after-field",fn:function(e){return["agreements"===e.field?a("div",{staticClass:"col offset-lg-2"},[a("b-button",{staticClass:"mt-2",attrs:{disabled:t.withdraw.agreements.length<=0||t.timer>0,variant:"outline-primary"},on:{click:t.calculateIncomes}},[t._v("\n                    "+t._s(t.translate("salary.withdraw.action.calculate.title"))+"\n                    "),t.timer>0?a("span",{staticClass:"ml-2"},[t._v(t._s(t.timerResult))]):t._e()]),t._v(" "),t.incomes?a("PanelCollapsibleSimple",{attrs:{items:t.incomes,accordion:"incomes"},scopedSlots:t._u([{key:"toggle",fn:function(e){var s=e.item,n=e.id;return[a("strong",{class:"ml-3 text-"+s.color+("unwithdrawn"===n?" font-size-h5":""),domProps:{innerHTML:t._s(s.title)}})]}},{key:"actions",fn:function(e){var s=e.item,n=e.id;return[a("strong",{class:"text-"+s.color+("unwithdrawn"===n?" font-size-h5":""),domProps:{innerHTML:t._s(s.value)}})]}},{key:"content",fn:function(e){var s=e.item;return[a("p",{staticClass:"text-dark-50 mb-0 fs-sm ml-7",domProps:{innerHTML:t._s(s.description)}})]}},{key:"before-item",fn:function(e){e.item;return["remain"==e.id?a("PanelSeparator",{attrs:{type:"dashed"}}):t._e()]}}],null,!0)}):t._e()],1):t._e()]}}],null,!0)}),t._v(" "),a("div",{staticClass:"text-center pt-5"},[a("PanelActionSubmit",{staticClass:"mr-5",attrs:{name:"save",form:"add_update_withdraw",disabled:!t.canSubmit,text:t.translate("salary.withdraw.action.submit")}}),t._v(" "),a("PanelActionCancel",{on:{click:s}})],1)]:a("PanelSpinner")]}}])})]},proxy:!0},{key:"td",fn:function(e){var s=e.item,n=(e.column,e.column_key),r=e.id;return["bank_account"===n?a("PanelSalaryBankAccount",{attrs:{account:s.bank_account,subtext_key:"escaped"}}):"status"===n?a("PanelCellStatus",{attrs:{title:s.status_title,status:s.status,statuses:t.statuses,size:"xl"}}):"actions"===n?a("PanelActionLink",{attrs:{name:"details",to:{name:"panel_salary_withdraw_show",params:{id:r}}}}):a("PanelCellText",{attrs:{text:s[n]}})]}}])})],1)};B._withStripped=!0;const E={agreements:[]};const M=k({name:"PanelSalaryWithdrawList",data:()=>({error:null,timer:0,fields:null,loading:!1,incomes:{},withdraw:E}),methods:{countDownTimer(){this.timer>0&&setTimeout((()=>{this.timer-=1,this.countDownTimer()}),1e3)},onModalFormChange(t){this.withdraw=t},calculateIncomes(){this.withdraw.agreements?(this.loading=!0,this.$helper.$runAction(t,{agreements:this.withdraw.agreements}).then((({response:t})=>{this.incomes=t})).finally((()=>{this.timer=10,this.loading=!1,this.countDownTimer()}))):this.$helper.$showModal({icon:"warning",html:this.translate("salary.withdraw.action.calculate.not_empty")})},onModalShow(t){this.$store.dispatch(s).then((t=>{this.fields=t})).catch((t=>{this.error=t.data.message}))},afterRender(){this.$helper.$onSubmitForm("add_update_withdraw",this.fields,(()=>{this.loading=!0,this.$helper.$saveForm(this.withdraw,e).then((()=>{this.incomes={},this.withdraw=E,this.$hook.fire("modal:hide","withdraw_modal"),this.$hook.fire("remote-list:refresh")})).finally((()=>{this.loading=!1}))}))},timeFormat:t=>(t+"").replace(/^(\d)$/,"0$1")},computed:{canSubmit(){return!this.$helper.$isEmpty(this.withdraw.agreements)&&!this.$helper.$isEmpty(this.withdraw.target)},statuses:()=>({refused:"danger",pending:"primary",accepted:"success"}),columns(){return{bank_account:{title:this.translate("salary.withdraw.column.bank_account"),width:"25%"},amount:{title:this.translate("salary.withdraw.column.amount"),width:"20%"},status:{title:this.translate("column.status"),width:"20%"},created_at:{title:this.translate("column.created_at"),width:"20%"},actions:{title:this.translate("column.actions"),width:"15%"}}},modalProps:()=>({size:"lg",centered:!0,"hide-footer":!0,"body-class":"mx-5 mx-xl-15 my-7"}),buttonProps(){return{title:this.translate("salary.withdraw.action.add"),variant:"success"}},remoteProps:()=>({api:"/pmpr/v1/salary/withdraw/get-list-by-user","query-params":{sort:"created_at",sortBy:"orderBy"}}),timerResult(){let t=this.timer/60,e=this.timer%60;return this.timeFormat(t>=1?t:0)+":"+this.timeFormat(e)}}},B,[],!1,null,null,null).exports;var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.withdraw?[a("PanelSingleHeader",t._b({scopedSlots:t._u([{key:"value",fn:function(e){e.item;var s=e.value;return["status"===e.item_key?a("PanelCellStatus",{attrs:{title:t.withdraw.status_title,status:s,statuses:t.statuses,size:"xl"}}):[a("span",{domProps:{innerHTML:t._s(s)}})]]}}],null,!1,4206751963)},"PanelSingleHeader",t.headerProps,!1)),t._v(" "),a("PanelSidebar",{attrs:{tabs:t.tabs,args:{withdraw:t.currentWithdraw,withdrawObj:t.withdraw}}})]:a("PanelSpinner")],2)};q._withStripped=!0;const F={name:"PanelSalaryWithdrawShow",data:()=>({withdraw:null}),beforeMount(){this.$store.dispatch(a,{withdraw:this.currentWithdraw}).then((t=>{this.$helper.$isEmpty(t)?this.$router.push({name:"panel_salary_withdraw_list"}):this.withdraw=t}))},computed:{currentWithdraw(){return this.$route.params.id},headerProps(){return{items:this.withdraw.data,title:this.translate("salary.withdraw.show.title"),description:""}},statuses:()=>({refused:"danger",pending:"primary",accepted:"success"}),tabs(){return this.$router.getRouteChildren("panel_salary_withdraw_show")}}};const R=k(F,q,[],!1,null,null,null).exports;var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(e){var s=e.item,n=(e.column,e.column_key);e.id;return["withdraw_status"===n?a("PanelCellStatus",{attrs:{title:s.withdraw_status_title,status:s.withdraw_status,statuses:t.statuses,size:"xl"}}):a("PanelCellText",{attrs:{text:s[n]}})]}}])})};L._withStripped=!0;const H=k({name:"PanelSalaryWithdrawShowIncomes",props:{withdraw:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/withdraw/get-incomes","query-values":{withdraw:this.withdraw},"query-params":{sort:"created_at",sortBy:"orderBy"}}},statuses:()=>({locked:"danger",withdrawn:"success",unwithdrawn:"primary",nonewithdrawnable:"gray"}),columns(){return{product:{title:this.translate("column.product"),width:"20%"},amount:{title:this.translate("salary.incomes.column.amount"),width:"20%"},agreement_id:{title:this.translate("salary.incomes.column.agreement"),width:"20%"},withdraw_status:{title:this.translate("column.status"),width:"20%"},created_at:{title:this.translate("column.date"),width:"20%"}}}}},L,[],!1,null,null,null).exports;var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PanelCollapsibleRemote",{staticClass:"mb-7 mb-lg-0",attrs:{remote:t.remoteProps,columns:t.columns,accordion:"payments"},scopedSlots:t._u([{key:"toggle-td",fn:function(e){var s=e.item,n=(e.column,e.column_key);return["status"===n?a("PanelCellStatus",{attrs:{title:s.status_title,status:s[n],statuses:t.statuses,size:"xl"}}):a("PanelCellText",{attrs:{text:s[n]}})]}},{key:"content",fn:function(e){var s=e.item;return[a("b-row",{staticClass:"ml-7",attrs:{"align-h":"between"}},[t._l(t.shortFields,(function(e,n){return a("b-col",{key:n,staticClass:"d-flex justify-content-between my-2",attrs:{md:"6"}},[a("strong",{staticClass:"text-dark-50",domProps:{innerHTML:t._s(e)}}),t._v(" "),a("span",{staticClass:"text-dark-75 font-weight-bolder ml-2",domProps:{innerHTML:t._s(s[n])}})])})),t._v(" "),a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"my-4"})]),t._v(" "),t._l(t.longFields,(function(e,n){return[a("b-col",{key:"title-"+n,staticClass:"my-2",attrs:{md:"2"}},[a("strong",{staticClass:"text-dark-50",domProps:{innerHTML:t._s(e)}})]),t._v(" "),a("b-col",{key:"value-"+n,attrs:{md:"10"}},[a("span",{staticClass:"text-dark-75 font-weight-bold",domProps:{innerHTML:t._s(s[n])}})])]}))],2)]}},{key:"not-found",fn:function(e){e.item;return[a("PanelNotice",{attrs:{type:"info",content:t.notice}})]}}])})],1)};W._withStripped=!0;const j=k({name:"PanelSalaryWithdrawShowPayments",props:{withdraw:null,withdrawObj:null},computed:{shortFields(){return{reference_id:this.translate("salary.payments.column.reference_id"),terminal_title:this.translate("salary.payments.column.terminal"),tracking_code:this.translate("salary.payments.column.tracking_code"),deduct:this.translate("salary.payments.column.deduct")}},longFields(){return{destination_desc:this.translate("salary.payments.column.destination_desc"),origin_desc:this.translate("salary.payments.column.origin_desc")}},columns(){return{origin_account:{title:this.translate("salary.payments.column.origin_account"),width:"20%"},payout:{title:this.translate("salary.payments.column.payout"),width:"20%"},status:{title:this.translate("column.status"),width:"20%"},trans_datetime:{title:this.translate("salary.payments.column.trans_datetime"),width:"20%"}}},remoteProps(){return{api:"/pmpr/v1/salary/withdraw/get-payments","query-values":{withdraw:this.withdraw},"query-params":{sort:"created_at",sortBy:"orderBy"}}},notice(){return this.translate("salary.withdraw.show.not_accepted",[this.withdrawObj.status_title])},statuses:()=>({})}},W,[],!1,null,null,null).exports;var D=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};D._withStripped=!0;const z=k({name:"PanelSalaryApply"},D,[],!1,null,null,null).exports;var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(e){var s=e.item,n=(e.column,e.column_key),r=e.id;return["actions"===n?a("PanelCellAction",{staticClass:"mr-2",attrs:{id:r,path:!t.isDisabled(s)&&"/salary/"+(t.isAccepted(s)?"agreement":"apply"),name:t.isAccepted(s)?"show":"",text:t.getActionText(s),color:"primary",disabled:t.isDisabled(s)}}):a("PanelCellText","status"===n?{attrs:{text:s.status_title,color:t.statuses[s.status]}}:{attrs:{text:s[n]}})]}}])})};I._withStripped=!0;const O=k({name:"PanelSalaryApplyList",methods:{isAccepted:t=>"accepted"===t.status,isDisabled(t){return!this.isAccepted(t)&&"requestable"!==t.status},getActionText(t){let e=this.isAccepted(t)?"show":"submit";return this.translate(`salary.apply.actions.${e}`)}},computed:{remoteProps:()=>({api:"/pmpr/v1/salary/agreement/get-publics","query-params":{sort:"id",sortBy:"orderBy"}}),statuses:()=>({waiting:"primary",rejected:"danger",accepted:"success",requestable:"info",unrequestable:"warning"}),columns(){return{title:{title:this.translate("column.title"),width:"25%"},status:{title:this.translate("column.status"),width:"25%"},date:{title:this.translate("column.date"),width:"25%"},actions:{title:this.translate("column.actions"),width:"25%"}}}}},I,[],!1,null,null,null).exports;var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PanelSingleHeader",t._b({},"PanelSingleHeader",t.headerProps,!1)),t._v(" "),t.agreement?a("PanelSidebar",{attrs:{gutter:!0,tabs:t.tabs,args:{agreement:t.agreement.id}}}):t._e(),t._v(" "),a("PanelCard",{attrs:{has_header:!1,attrs:{body:{class:"p-0"}}},scopedSlots:t._u([{key:"body",fn:function(){return[a("PanelGridMain",{scopedSlots:t._u([{key:"side",fn:function(){return[a("PanelCard",{attrs:{title:t.translate("salary.apply.verifications.title"),description:t.translate("salary.apply.verifications.description"),attrs:{container:{class:"shadow-none"}}},scopedSlots:t._u([{key:"body",fn:function(){return[t.verifications?[a("b-list-group",{attrs:{flush:""}},[t._l(t.verifications,(function(e,s,n){return[a("b-list-group-item",{key:s,staticClass:"d-flex justify-content-between align-items-center px-0",class:0===n?"pt-0":""},[a("div",[a("PanelIcon",{attrs:{icon:e.icon,size:"lg",color:e.verified?"success":"danger"}}),t._v(" "),a("span",{staticClass:"font-weight-bold ml-2"},[t._v(t._s(e.title))])],1),t._v(" "),a("PanelCellStatus",{attrs:{status:e.status,title:e.status_title,textColor:"pending"===e.status?"dark-50":"",f:"",statuses:{pending:"gray",verified:"success",uncompleted:"danger"}}})],1)]}))],2),t._v(" "),a("router-link",{attrs:{to:{name:"panel_user_profile_personal"},custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href;e.route,e.navigate,e.isActive,e.isExactActive;return[a("a",{staticClass:"btn btn-block btn-success mt-3",attrs:{href:s}},[t._v(t._s(t.translate("salary.apply.verifications.edit_profile")))])]}}],null,!1,285028633)})]:a("PanelSpinner")]},proxy:!0}])})]},proxy:!0},{key:"main",fn:function(){return[a("PanelCard",{attrs:{title:t.translate("salary.apply.terms.title"),description:t.translate("salary.apply.terms.description"),attrs:{container:{class:"shadow-none"}}},scopedSlots:t._u([{key:"body",fn:function(){return[t.agreement?a("div",{staticClass:"lh-2",domProps:{innerHTML:t._s(t.agreement.terms)}}):a("PanelSpinner")]},proxy:!0}])})]},proxy:!0}])})]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"d-flex justify-content-end"},[a("b-form-checkbox",{staticClass:"my-auto",attrs:{id:"consent",name:"consent",value:"accepted","unchecked-value":"not_accepted",size:"lg",disabled:!t.appliable},model:{value:t.accept,callback:function(e){t.accept=e},expression:"accept"}},[t._v("\n          "+t._s(t.translate("salary.apply.consent.checkbox"))+"\n        ")]),t._v(" "),a("button",{staticClass:"btn btn-primary ml-5",attrs:{id:"submit_apply",disabled:!t.appliable||!t.isAccepted},on:{click:t.onClick}},[t._v("\n          "+t._s(t.translate("salary.apply.consent.action"))+"\n        ")])],1)]},proxy:!0}])})],1)};N._withStripped=!0;const U={name:"PanelSalaryApplySubmit",data:()=>({accept:"not_accepted",agreement:null,appliable:!1,verifications:null}),beforeMount(){this.$store.dispatch(o,{apply:!0,agreement:this.$route.params.id}).then((t=>{this.$helper.$isEmpty(t)?this.$router.push({name:"panel_salary_apply_list"}):(this.agreement=t,this.$store.dispatch(u).then((t=>{this.$helper.$isEmpty(t)?this.$helper.$showModal({icon:"warning",html:this.translate("error.refresh_page")}):(this.appliable=t.appliable??!1,this.verifications=t.fields??null)})))})).catch((()=>{this.$router.push({name:"panel_salary_apply_list"})}))},computed:{headerProps(){let t={},e=this.agreement;return e&&(t={items:e.data,title:e.title,description:e.description}),t},isAccepted(){return"not_accepted"!==this.accept},tabs(){return this.$router.getRouteChildren("panel_salary_apply_submit")}},methods:{onClick(){this.appliable?"not_accepted"===this.accept?this.$helper.$showModal({icon:"warning",html:this.translate("salary.apply.consent.error.not_accept")}):(this.loading=!0,this.$helper.$runAction(c,{can_apply:this.appliable&&this.isAccepted,agreement:this.agreement.id},"#submit_apply").then((({modal:t})=>{t&&t.then((t=>{t.isConfirmed&&this.$router.push({name:"panel_salary_apply_list"})}))}))):this.$helper.$showModal({icon:"warning",html:this.translate("salary.apply.consent.error.not_appliable")})}}};const V=k(U,N,[],!1,null,null,null).exports;var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,s=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[s]}})]}}])})};X._withStripped=!0;const G=k({name:"PanelSalaryApplySubmitProducts",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-products","query-params":{sort:"created_at",sortBy:"orderBy"},"query-values":{agreement:this.agreement,apply:!0}}},columns(){return{title:{title:this.translate("column.title"),width:"50%"},price:{title:this.translate("column.price"),width:"50%"}}}}},X,[],!1,null,null,null).exports;var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,s=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[s]}})]}}])})};J._withStripped=!0;const K=k({name:"PanelSalaryApplySubmitCategories",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-categories","query-params":{sort:"created_at",sortBy:"orderBy"},"query-values":{agreement:this.agreement,apply:!0}}},columns(){return{title:{title:this.translate("column.title"),width:"35%"},products:{title:this.translate("salary.categories.column.products"),width:"20%"}}}}},J,[],!1,null,null,null).exports;var Q=function(){var t=this.$createElement;return(this._self._c||t)("router-view")};Q._withStripped=!0;const Y=k({name:"PanelSalaryAgreement"},Q,[],!1,null,null,null).exports;var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("router-link",{attrs:{to:"/salary/apply",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,n=e.route;e.navigate,e.isActive,e.isExactActive;return[a("a",{staticClass:"btn btn-success",attrs:{href:s}},[t._v("\n        "+t._s(n.meta.title)+"\n      ")])]}}])})]},proxy:!0},{key:"td",fn:function(t){var e=t.item,s=(t.column,t.column_key),n=t.id;return["actions"===s?a("PanelActionLink",{attrs:{name:"details",to:{name:"panel_salary_agreement_show",params:{id:n}}}}):a("PanelCellText",{attrs:{text:e[s]}})]}}])})};Z._withStripped=!0;const tt=k({name:"PanelSalaryAgreementList",computed:{remoteProps:()=>({api:"/pmpr/v1/salary/agreement/get-list-by-user","query-params":{sort:"created_at",sortBy:"orderBy"}}),columns(){return{title:{title:this.translate("column.title"),width:"35%"},products:{title:this.translate("salary.agreement.column.products"),width:"45%"},actions:{title:this.translate("column.actions"),width:"20%"}}}}},Z,[],!1,null,null,null).exports;var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PanelSingleHeader",t._b({},"PanelSingleHeader",t.headerProps,!1)),t._v(" "),t.agreement?a("PanelSidebar",{attrs:{tabs:t.tabs,args:{agreement:t.agreement.id,agreementObj:t.agreement}}}):t._e()],1)};et._withStripped=!0;const at={name:"PanelSalaryAgreementShow",data:()=>({agreement:null}),beforeMount(){this.$store.dispatch(o,{agreement:this.$route.params.id}).then((t=>{this.$helper.$isEmpty(t)?this.$router.push({name:"panel_salary_agreement_list"}):this.agreement=t}))},computed:{headerProps(){let t={},e=this.agreement;return e&&(t={items:e.data,title:e.title,description:e.description}),t},tabs(){return this.$router.getRouteChildren("panel_salary_agreement_show")}}};const st=k(at,et,[],!1,null,null,null).exports;var nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelCard",{scopedSlots:t._u([{key:"body",fn:function(){return[t.agreementObj?a("div",{staticClass:"lh-2",domProps:{innerHTML:t._s(t.agreementObj.terms)}}):a("PanelSpinner")]},proxy:!0}])})};nt._withStripped=!0;const rt=k({name:"PanelSalaryAgreementShowTerms",props:{agreementObj:null}},nt,[],!1,null,null,null).exports;var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(e){var s=e.item,n=(e.column,e.column_key);e.id;return["withdraw_status"===n?a("PanelCellStatus",{attrs:{title:s.withdraw_status_title,status:s.withdraw_status,statuses:t.statuses,size:"xl"}}):a("PanelCellText",{attrs:{text:s[n]}})]}}])})};lt._withStripped=!0;const it=k({name:"PanelSalaryAgreementShowIncomes",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-incomes","query-values":{agreement:this.agreement},"query-params":{sort:"created_at",sortBy:"orderBy"}}},statuses:()=>({locked:"danger",withdrawn:"success",unwithdrawn:"primary",nonewithdrawnable:"gray"}),columns(){return{product:{title:this.translate("column.product"),width:"25%"},amount:{title:this.translate("salary.incomes.column.amount"),width:"25%"},withdraw_status:{title:this.translate("column.status"),width:"25%"},created_at:{title:this.translate("column.date"),width:"25%"}}}}},lt,[],!1,null,null,null).exports;var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,s=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[s]}})]}}])})};ot._withStripped=!0;const ct=k({name:"PanelSalaryAgreementShowProducts",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-products","query-values":{agreement:this.agreement},"query-params":{sort:"created_at",sortBy:"orderBy"}}},columns(){return{title:{title:this.translate("column.title"),width:"40%"},incomes_count:{title:this.translate("salary.column.sale_count"),width:"30%"},incomes_sum:{title:this.translate("salary.column.your_income"),width:"30%"}}}}},ot,[],!1,null,null,null).exports;var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelDatatableCard",{attrs:{columns:t.columns,remote:t.remoteProps},scopedSlots:t._u([{key:"td",fn:function(t){var e=t.item,s=(t.column,t.column_key);t.id;return[a("PanelCellText",{attrs:{text:e[s]}})]}}])})};ut._withStripped=!0;const dt=k({name:"PanelSalaryAgreementShowCategories",props:{agreement:null},computed:{remoteProps(){return{api:"/pmpr/v1/salary/agreement/get-categories","query-values":{agreement:this.agreement},"query-params":{sort:"created_at",sortBy:"orderBy"}}},columns(){return{title:{title:this.translate("column.title"),width:"35%"},products:{title:this.translate("salary.categories.column.products"),width:"20%"},incomes_count:{title:this.translate("salary.column.sale_count"),width:"20%"},incomes_sum:{title:this.translate("salary.column.your_income"),width:"25%"}}}}},ut,[],!1,null,null,null).exports;var mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PanelCollapsibleRemote",{attrs:{remote:t.remoteProps,accordion:"bank-account-list"},scopedSlots:t._u([{key:"toolbar",fn:function(){return[a("PanelModal",{attrs:{modal:t.modalProps,button:t.buttonProps,id:"account_modal",loading:t.loading,title:t.translate("salary.bank_accounts.modal.title")},on:{"modal-hide":function(e){return t.onModalHide(e)},"modal-show":function(e){return t.onModalShow(e)}},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.close;return[t.fields?[a("PanelNotice",{attrs:{content:t.translate("salary.bank_accounts.modal.notice"),classes:"mb-10"}}),t._v(" "),a("PanelForm",{attrs:{fields:t.fields,data:t.account,labelAlign:"left",id:"add_update_account",tag:"form",offset:"0"},on:{changed:function(e){t.data=e},rendered:t.afterRender}}),t._v(" "),a("div",{staticClass:"text-center pt-5"},[a("PanelActionSubmit",{staticClass:"mr-5",attrs:{name:"save",form:"add_update_account",text:t.translate("salary.bank_accounts.action.save")}}),t._v(" "),a("PanelActionCancel",{on:{click:s}})],1)]:a("PanelSpinner")]}}])})]},proxy:!0},{key:"toggle",fn:function(t){var e=t.item;return[a("PanelSalaryBankAccount",{attrs:{account:e,container:{class:"d-flex ml-3"}}})]}},{key:"actions",fn:function(e){var s=e.item;return[a("div",{staticClass:"d-flex my-3 ml-5"},[a("PanelCellStatus",{attrs:{status:s.status,title:s.status_title,classes:"my-auto",statuses:{locked:"primary",editable:"success"}}}),t._v(" "),t._l(t.actions,(function(e,n){return a("b-button",{key:n,ref:n,refInFor:!0,staticClass:"ml-2",attrs:{disabled:s.locked,"data-action":n,variant:"light",size:"sm","data-key":s.escaped},on:{click:function(e){return t.onClick(e,n,s.form)}}},[a("PanelIcon",{staticClass:"mx-0",attrs:{icon:e.icon,size:"xs",color:"primary"}})],1)}))],2)]}},{key:"content",fn:function(e){var s=e.item;return[a("b-row",{staticClass:"ml-7",attrs:{"align-h":"between"}},t._l(s.data,(function(e,s){var n=e.title,r=e.value;return a("b-col",{key:s,staticClass:"d-flex justify-content-between my-2",attrs:{md:"5"}},[a("strong",{staticClass:"text-dark-50"},[t._v(t._s(n))]),t._v(" "),a("span",{staticClass:"text-dark"},[t._v(t._s(r))])])})),1)]}}])})};mt._withStripped=!0;const pt={type:"iban"};const ht=k({name:"PanelUserProfileBankAccounts",data:()=>({data:{},fields:null,loading:!1,account:pt}),methods:{reset(){this.data=pt},afterRender(){this.$helper.$onSubmitForm("add_update_account",this.fields,(()=>{this.loading=!0;let t=this.data;this.$helper.$isFormChanged(t,this.account)&&(this.account&&(t={...t,key:this.account.key}),this.$helper.$saveForm(t,f).then((()=>{this.$hook.fire("modal:hide","account_modal"),this.$hook.fire("remote-list:refresh")})).finally((()=>{this.loading=!1})))}))},onModalHide(t){this.reset()},onModalShow(t){this.$store.dispatch(_).then((t=>{this.fields=t}))},onClick(t,e,a){switch(e){case"edit":this.data=a,this.account=a,this.$hook.fire("modal:show","account_modal");break;case"remove":this.$helper.$showModal({icon:"warning",html:this.translate("salary.bank_accounts.action.remove.description"),showDenyButton:!0,confirmButtonText:this.translate("salary.bank_accounts.action.remove.title"),showLoaderOnConfirm:!0,preConfirm:()=>this.$helper.$runAction(w,{key:a.key}).then((({modal:t})=>{this.$hook.fire("remote-list:refresh")}))})}}},computed:{actions(){return{edit:{icon:"fasm/6/set/pencil",title:this.translate("salary.bank_accounts.action.edit.title")},remove:{icon:"fasm/6/set/trash",title:this.translate("salary.bank_accounts.action.remove.title")}}},modalProps:()=>({size:"lg",centered:!0,"hide-footer":!0,"body-class":"mx-5 mx-xl-15 my-7"}),buttonProps(){return{title:this.translate("salary.bank_accounts.action.add"),variant:"success"}},remoteProps:()=>({api:"/pmpr/v1/salary/bank-account/get-list"})}},mt,[],!1,null,null,null).exports;window.PanelSalary=C,window.PanelSalaryWithdraw=T,window.PanelSalaryWithdrawList=M,window.PanelSalaryWithdrawShow=R,window.PanelSalaryWithdrawShowIncomes=H,window.PanelSalaryWithdrawShowPayments=j,window.PanelSalaryApply=z,window.PanelSalaryApplyList=O,window.PanelSalaryApplySubmit=V,window.PanelSalaryApplySubmitProducts=G,window.PanelSalaryApplySubmitCategories=K,window.PanelSalaryAgreement=Y,window.PanelSalaryAgreementList=tt,window.PanelSalaryAgreementShow=st,window.PanelSalaryAgreementShowTerms=rt,window.PanelSalaryAgreementShowIncomes=it,window.PanelSalaryAgreementShowProducts=ct,window.PanelSalaryAgreementShowCategories=dt,window.PanelUserProfileBankAccounts=ht})();